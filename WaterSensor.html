<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Automatic Water Tank</title>

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        background: radial-gradient(circle, #050505, #000);
        color: rgb(254, 251, 251);
        text-align: center;
        padding: 20px;
      }
      h2 {
        color: #00eaff;
      }

      /* Tank */
      .tank {
        width: 210px;
        height: 260px;
        border: 4px solid #00eaff;
        border-radius: 20px;
        margin: auto;
        position: relative;
        overflow: hidden;
      }

      /* Glow when filling */
      .tank.filling {
        animation: glow 1s infinite alternate;
      }
      @keyframes glow {
        from {
          box-shadow: 0 0 10px #00eaff;
        }
        to {
          box-shadow: 0 0 30px #00ffff;
        }
      }

      /* Water */
      .water {
        width: 200%;
        height: 30%;
        position: absolute;
        bottom: 0;
        left: -50%;
        background: linear-gradient(#4facfe, #00f2fe);
        border-radius: 40%;
        animation: wave 4s linear infinite;
        transition: height 0.6s ease;
      }
      @keyframes wave {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(50%);
        }
      }

      /* Droplets */
      .drop {
        position: absolute;
        width: 6px;
        height: 10px;
        background: cyan;
        border-radius: 50%;
        top: -10px;
        animation: drop 1s linear infinite;
      }
      @keyframes drop {
        to {
          top: 260px;
          opacity: 0;
        }
      }

      /* Alerts */
      .blink {
        animation: blink 1s infinite;
      }
      @keyframes blink {
        50% {
          opacity: 0;
        }
      }

      .shake {
        animation: shake 2s infinite;
      }
      .motor.spin::after {
        cotent: "‚öôÔ∏è";
        display: inline-block;
        animation: spin is linear infinite;
      }
      @keyframes shake {
        25% {
          transform: translateX(-2px);
        }
        50% {
          transform: translateX(2px);
        }
      }

      /* Progress bar */
      .bar {
        width: 300px;
        height: 15px;
        background: #222;
        border-radius: 10px;
        margin: 10px auto;
        overflow: hidden;
      }
      .fill {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, lime, cyan);
        transition: width 0.5s;
      }

      /* Motor spinner */
      .motor.spin::after {
        content: " ‚öôÔ∏è";
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        100% {
          transform: rotate(360deg);
        }
      }

      input[type="range"] {
        width: 300px;
      }
    </style>
  </head>

  <body>
    <h2>üíß automatic Sensor when water content is low</h2>

    <div class="tank" id="tank">
      <div class="water" id="water"></div>
    </div>

    <div class="bar">
      <div class="fill" id="fill"></div>
    </div>

    <p>Sensor Distance: <span id="distanceText">30</span> cm</p>

    <input
      type="range"
      min="2"
      max="30"
      value="30"
      id="slider"
      oninput="manualChange()"
    />

    <div id="status">System Ready</div>
    <div class="motor" id="motor">Motor: OFF</div>

    <audio id="alarm" src="censor-beep-1-372459.mp3" loop></audio>

    <script>
      const slider = document.getElementById("slider");
      const water = document.getElementById("water");
      const tank = document.getElementById("tank");
      const status = document.getElementById("status");
      const motor = document.getElementById("motor");
      const alarm = document.getElementById("alarm");
      const fill = document.getElementById("fill");
      const distanceText = document.getElementById("distanceText");

      const LOW = 24;
      const FULL = 6;

      let fillInterval = null;

      function levelFromDistance(d) {
        return Math.max(0, Math.min(100, ((30 - d) / 28) * 100));
      }

      function manualChange() {
        updateSystem(slider.value);
      }

      function updateSystem(distance) {
        distanceText.innerText = distance;
        let level = levelFromDistance(distance);
        water.style.height = level + "%";
        fill.style.width = level + "%";

        if (distance >= LOW) {
          status.innerText = "üî¥ LOW WATER ‚Äì FILLING";
          status.className = "blink shake";
          motor.innerText = "Motor: ON";
          motor.classList.add("spin");
          tank.classList.add("filling");
          alarm.play();
          startAutoFill();
        } else if (distance <= FULL) {
          status.innerText = "üü¢ TANK FULL";
          status.className = "";
          motor.innerText = "Motor: OFF";
          motor.classList.remove("spin");
          tank.classList.remove("filling");
          alarm.pause();
          alarm.currentTime = 0;
          stopAutoFill();
        } else {
          status.innerText = "üü° WATER LEVEL NORMAL";
          status.className = "";
          motor.innerText = "Motor: OFF";
          motor.classList.remove("spin");
          tank.classList.remove("filling");
          alarm.pause();
          alarm.currentTime = 0;
          stopAutoFill();
        }
      }

      function startAutoFill() {
        if (fillInterval) return;
        fillInterval = setInterval(() => {
          let d = parseInt(slider.value);
          if (d > FULL) {
            slider.value = d - 1;
            updateSystem(slider.value);
          }
        }, 600);
      }

      function stopAutoFill() {
        clearInterval(fillInterval);
        fillInterval = null;
      }

      updateSystem(slider.value);
    </script>
  </body>
</html>
